# 4.5: Dashboard Marketing (Calend√°rio de Posts)

**Status:** Ready
**Sprint:** 7
**Points:** 5
**Epic:** EPIC-004

---

## User Story

**Como** gerente de marketing
**Quero** criar, visualizar e gerenciar meus posts em um calend√°rio
**Para que** eu tenha controle total sobre meu conte√∫do publicado

---

## Description

Implementar dashboard de marketing com:
- Calend√°rio visual do m√™s
- Posts com status (rascunho, aguardando, aprovado, postado, rejeitado)
- Criar novo post (form modal)
- Drag & drop posts no calend√°rio
- Aprovar/rejeitar posts pendentes

---

## Acceptance Criteria

### AC-405.1: Calend√°rio Visual
- [ ] M√™s atual exibido
- [ ] Navega√ß√£o: setas anterior/pr√≥ximo m√™s
- [ ] Domingos destacados (fundo diferente)
- [ ] Hoje destacado com c√≠rculo

### AC-405.2: Posts no Calend√°rio
- [ ] Posts aparecem nas datas corretas
- [ ] Card compacto: t√≠tulo + status badge
- [ ] Cores por status: üìù gray, ‚è≥ amber, ‚úÖ green, üì§ blue, ‚ùå red
- [ ] Hover mostra preview

### AC-405.3: Criar Novo Post
- [ ] Bot√£o "+ Novo Post"
- [ ] Form modal: t√≠tulo, descri√ß√£o, plataforma, data, imagem (URL)
- [ ] Plataformas: Instagram, LinkedIn, TikTok, YouTube, Outro
- [ ] Salva como "Rascunho"
- [ ] Novo post aparece no calend√°rio

### AC-405.4: Drag & Drop Posts
- [ ] Arrastar post para outra data
- [ ] Atualiza data do post
- [ ] Visual feedback durante drag

### AC-405.5: Status de Posts
- [ ] üìù Rascunho: apenas criado
- [ ] ‚è≥ Aguardando Aprova√ß√£o: pronto mas n√£o aprovado
- [ ] ‚úÖ Aprovado: pode ser publicado
- [ ] üì§ Postado: j√° publicado (lock visual)
- [ ] ‚ùå Rejeitado: com motivo de rejei√ß√£o (tooltip)

### AC-405.6: Aprovar/Rejeitar Posts
- [ ] Clique em post "Aguardando" mostra modal
- [ ] Bot√µes: Aprovar | Rejeitar
- [ ] Rejeitar pede motivo (texto)
- [ ] Atualiza status no calend√°rio

### AC-405.7: M√©tricas (opcional)
- [ ] Total posts: X
- [ ] Agendados: X
- [ ] Publicados: X
- [ ] Engajamento (se integrado): likes, comments, shares

### AC-405.8: Editar Posts
- [ ] Clique em post abre form de edi√ß√£o
- [ ] S√≥ pode editar se Rascunho
- [ ] Posts aprovados/postados s√£o read-only

### AC-405.9: Responsividade
- [ ] Desktop: calend√°rio 4 semanas lado a lado
- [ ] Tablet: 2 semanas
- [ ] Mobile: 1 semana por vez (scroll)

---

## Scope

### IN
- Calend√°rio com posts
- CRUD posts (Create, Read, Update, Delete)
- Status workflow
- Drag & drop
- Mock data

### OUT
- Social media API integration
- Auto-publish scheduling
- Analytics real-time
- Comment threads
- Bulk operations

---

## Technical Notes

### Data Structure
```typescript
interface MarketingPost {
  id: string;
  user_id: string;
  title: string;
  description: string;
  platform: 'instagram' | 'linkedin' | 'tiktok' | 'youtube' | 'other';
  status: 'draft' | 'pending' | 'approved' | 'posted' | 'rejected';
  scheduled_date: Date;
  posted_date?: Date;
  image_url?: string;
  rejection_reason?: string;
  metrics?: { likes: number; comments: number; shares: number };
  created_at: Date;
  updated_at: Date;
}
```

### Components
```
MarketingDashboard.tsx
‚îú‚îÄ‚îÄ MonthCalendar
‚îú‚îÄ‚îÄ PostCard (draggable)
‚îú‚îÄ‚îÄ NewPostForm
‚îú‚îÄ‚îÄ ApprovalModal
‚îî‚îÄ‚îÄ MetricsBar
```

### Libraries
- **react-calendar:** Para calend√°rio base
- **react-beautiful-dnd:** Drag & drop
- **date-fns:** Date manipulation

---

## Dependencies

**Depends On:** US-402 (Modal), US-408 (Approval gates - pode ser paralelo)
**Blocks:** None

---

## Definition of Done

- [x] Calend√°rio funcional
- [x] All AC passed
- [x] Drag & drop smooth
- [x] Form validation
- [x] Mobile responsive
- [x] No console errors
- [x] Tests 70%+ coverage

---

## File List

- [ ] src/components/corporate/dashboards/MarketingDashboard.tsx
- [ ] src/components/corporate/dashboards/marketing/MonthCalendar.tsx
- [ ] src/components/corporate/dashboards/marketing/PostCard.tsx
- [ ] src/components/corporate/dashboards/forms/NewPostForm.tsx
- [ ] src/data/marketingData.ts
- [ ] src/__tests__/marketingDashboard.test.ts

---

## Points Breakdown

- Calend√°rio: 1.5 pts
- CRUD posts: 1.5 pts
- Drag & drop: 1 pt
- Status workflow: 0.5 pts
- Responsivity: 0.5 pts

---

## Change Log

- **2026-02-17:** Created

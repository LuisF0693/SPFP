# 2.4: Dashboard Marketing com Calend√°rio e Gest√£o de Criativos

**Status:** Draft
**Sprint:** 7
**Points:** 8
**Epic:** EPIC-002

---

## User Story

**Como** empres√°rio
**Quero** gerenciar conte√∫do de marketing e visualizar calend√°rio de posts
**Para que** eu mantenha uma estrat√©gia de conte√∫do organizada e consistente

---

## Description

Implementar modal/drawer com dashboard de marketing mostrando calend√°rio de posts do m√™s atual, lista de criativos com status (Rascunho, Aprovado, Postado), possibilidade de criar novo post, upload de imagem, aprova√ß√£o/rejei√ß√£o de posts pendentes e visualiza√ß√£o de m√©tricas de engajamento (se dados dispon√≠veis).

---

## Acceptance Criteria

### AC-004.1: Modal/Drawer Abre ao Clicar em Marketing
- [ ] Clique no departamento Marketing abre modal (desktop) ou drawer (mobile)
- [ ] Modal tem bot√£o X para fechar
- [ ] Pressionar ESC fecha o modal
- [ ] Clique fora do modal fecha (se overlay)

### AC-004.2: Calend√°rio de Posts (M√™s Atual)
- [ ] Calend√°rio visual mostrando dias do m√™s
- [ ] Posts aparecem como badges nos dias (ex: "2 posts")
- [ ] Clique no dia mostra posts daquele dia
- [ ] Navega√ß√£o entre meses (bot√µes prev/next)
- [ ] Cores distintas por status (rascunho cinza, aprovado verde, postado azul)

### AC-004.3: Lista de Criativos com Status
- [ ] Colunas: T√≠tulo, Plataforma, Status, Data Agendada
- [ ] Status visual com badge e cor:
  - üìù Rascunho (cinza)
  - ‚è≥ Aguardando Aprova√ß√£o (amarelo)
  - ‚úÖ Aprovado (verde)
  - üì§ Postado (azul)
  - ‚ùå Rejeitado (vermelho)
- [ ] Scroll vertical se necess√°rio
- [ ] Clique na linha expande detalhes

### AC-004.4: M√©tricas de Engajamento (Opcional)
- [ ] Se post j√° foi postado, mostra: Likes, Coment√°rios, Compartilhamentos, Alcance
- [ ] Badges com n√∫meros (ex: "üëç 42", "üí¨ 8", "‚ÜóÔ∏è 120")
- [ ] Dados mockados nesta fase

### AC-004.5: Criar Novo Post
- [ ] Bot√£o "+ Novo Post" no topo
- [ ] Modal/form com campos:
  - [ ] T√≠tulo (obrigat√≥rio)
  - [ ] Descri√ß√£o (obrigat√≥rio)
  - [ ] Data de Publica√ß√£o (date picker)
  - [ ] Plataforma (dropdown: Instagram, LinkedIn, TikTok, YouTube, Outro)
  - [ ] Status (inicial: Rascunho)

### AC-004.6: Upload de Imagem do Criativo
- [ ] Drag & drop area ou click to select
- [ ] Aceita formatos: JPG, PNG, GIF, WebP
- [ ] Preview da imagem antes de salvar
- [ ] Bot√£o "Remover" se imagem foi enviada
- [ ] Redimensiona imagem se > 2MB

### AC-004.7: Aprovar/Rejeitar Posts Pendentes
- [ ] Posts com status "Aguardando Aprova√ß√£o" mostram bot√µes
- [ ] Bot√£o "Aprovar" (verde) muda status para "Aprovado"
- [ ] Bot√£o "Rejeitar" (vermelho) muda status para "Rejeitado"
- [ ] A√ß√£o reflete imediatamente na lista
- [ ] Opcional: pedir motivo da rejei√ß√£o

---

## Scope

### IN (Inclu√≠do)
- Modal/drawer dashboard de marketing
- Calend√°rio visual de posts (m√™s atual)
- Lista de criativos com 5 status poss√≠veis
- Criar novo post (form com 5 campos)
- Upload de imagem com preview
- Aprovar/rejeitar posts pendentes
- M√©tricas de engajamento (mockadas)
- Responsividade (modal desktop, drawer mobile)

### OUT (N√£o Inclu√≠do)
- Integra√ß√£o com APIs de redes sociais (vem em fase futura)
- Publica√ß√£o autom√°tica para redes
- Analytics avan√ßado
- A/B testing de criativos
- Template de posts
- Schedulador autom√°tico

---

## Technical Notes

### Implementation Approach

1. **Component Principal** (`src/components/corporate/MarketingDashboard.tsx`)
   - Gerencia estado (posts, filtros, novo post)
   - Renderiza calendar e lista

2. **Sub-componentes**
   - `PostCalendar.tsx` (NEW) - calend√°rio visual
   - `CreativeList.tsx` (NEW) - tabela de criativos
   - `PostForm.tsx` (NEW) - form criar novo post
   - `StatusBadge.tsx` (REUSE) - badge status (se j√° existe)
   - `EngagementMetrics.tsx` (NEW) - m√©tricas likes/comments/etc

3. **Mock Data**
   - `src/data/mockMarketing.ts` (NEW) com 30-50 posts fict√≠cios

4. **Libraries**
   - react-calendar ou date-fns (calend√°rio)
   - TailwindCSS (layout)
   - React Icons (√≠cones)
   - react-hot-toast (notifica√ß√µes ao aprovar/rejeitar)

5. **File Structure**
```
src/components/
‚îú‚îÄ‚îÄ corporate/
‚îÇ   ‚îú‚îÄ‚îÄ MarketingDashboard.tsx (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ PostCalendar.tsx (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ CreativeList.tsx (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ PostForm.tsx (NEW)
‚îÇ   ‚îî‚îÄ‚îÄ EngagementMetrics.tsx (NEW)
‚îî‚îÄ‚îÄ data/
    ‚îî‚îÄ‚îÄ mockMarketing.ts (NEW)
```

6. **Data Model**
```typescript
interface MarketingPost {
  id: string;
  user_id: string;
  title: string;
  description: string;
  platform: 'instagram' | 'linkedin' | 'tiktok' | 'youtube' | 'other';
  status: 'draft' | 'pending' | 'approved' | 'posted' | 'rejected';
  scheduled_date?: string; // ISO date
  posted_date?: string; // ISO timestamp
  image_url?: string;
  metrics?: {
    likes: number;
    comments: number;
    shares: number;
    reach: number;
  };
  created_at: string;
  updated_at: string;
}
```

---

## Definition of Done

- [ ] MarketingDashboard renderiza corretamente
- [ ] Calend√°rio mostra posts por dia com cores de status
- [ ] Lista de criativos com 5 status e badges corretos
- [ ] Bot√£o "+ Novo Post" abre form
- [ ] PostForm com 5 campos funcionais
- [ ] Upload de imagem com preview e valida√ß√£o
- [ ] Aprovar/Rejeitar atualiza status e reflete na lista
- [ ] M√©tricas de engajamento vis√≠veis para posts postados
- [ ] Modal/drawer responsivo
- [ ] Sem console errors
- [ ] Testes unit√°rios para CreativeList, PostForm
- [ ] Lighthouse Performance > 80
- [ ] Commit local

---

## Dependencies

**Blocks:** Nenhum (UI apenas, pode usar mock data)

**Depends On:** US-201 (CorporateHQ para abrir dashboard)

---

## Business Value

**Alto** - Permite organizar e gerenciar conte√∫do de marketing de forma centralizada

---

## Risks

| Risk | Mitigation |
|------|-----------|
| Upload de imagem lento | Valida√ß√£o antes de upload, compress√£o |
| Calend√°rio com muitos posts = lag | Limit posts mostrados por dia (ex: 3 com "...") |
| Form tem muitos campos = UX ruim | Valida√ß√£o em tempo real, helper text |

---

## File List

- [ ] src/components/corporate/MarketingDashboard.tsx
- [ ] src/components/corporate/PostCalendar.tsx
- [ ] src/components/corporate/CreativeList.tsx
- [ ] src/components/corporate/PostForm.tsx
- [ ] src/components/corporate/EngagementMetrics.tsx
- [ ] src/data/mockMarketing.ts

---

## Change Log

- **2026-02-17:** Story created (US-204) in YOLO batch
- **Status:** Draft - Awaiting @po validation
